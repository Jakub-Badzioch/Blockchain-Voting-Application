<!DOCTYPE html>
<html lang="en">
<head>
    <title>Voting DAPP - Candidate List</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.1/ethers.umd.min.js" type="application/javascript"></script>
    <script src="main.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="navbar">
    <a href="/index.html">Vote</a>
    <a href="/ListVoters.html">List Voters</a>
</div>

<div class="main-content">
    <h1>Candidate Management</h1>

    <div class="card" style="text-align: center;">
        <button onclick="connectMetamask()">Connect Metamask</button>
        <p id="metamasknotification">Wallet status will appear here</p>
    </div>

    <div class="card">
        <h3>Add New Candidate</h3>
        <p id="votingStatus" style="font-size: 0.85rem; color: var(--text-muted); text-align: left; margin: 0 0 10px 0;"></p>
        <form method="POST" action="/vote" enctype="multipart/form-data" style="display: flex; gap: 10px; flex-direction: row; align-items: center; margin-top: 0;">
            <input type="text" name="vote" placeholder="Enter candidate name..." style="flex-grow: 1; margin: 0;">
            <input type="submit" value="Add Candidate" style="margin: 0; width: auto;">
        </form>
    </div>

    <div class="card">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h3 style="margin: 0;">Current Standings</h3>
            <button onclick="getAllCandidates()" style="margin: 0; padding: 8px 16px; font-size: 0.85rem;">Refresh List</button>
        </div>

        <p id="p3" style="font-size: 0.9rem; margin: 0 0 10px 0;"></p>

        <table id="myTable">
            <thead>
            <tr>
                <th>Index</th>
                <th>Candidate Name</th>
                <th>Votes Received</th>
            </tr>
            </thead>
            <tbody>
            </tbody>
        </table>
    </div>
</div>

</body>
</html>